<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head>  <meta name="generator" content=  "HTML Tidy for Linux/x86 (vers 6 November 2007), see www.w3.org"><META HTTP-EQUIV="Pragma" CONTENT="no-cache">  <title>ChatPlus Realm Editor</title>  <meta http-equiv="Content-Type" content=  "text/html; charset=us-ascii">  <script src="hchat.js" type="text/javascript"></script><script type="text/javascript">function makeCheckBox(label, value, name) {  var box = document.createElement('div');  var checkbox = document.createElement('input');    //var text = label.replace(/ /g,"\u00a0"); // non-breaking space     checkbox.type = 'checkbox';  checkbox.name = name;  checkbox.id = name;  checkbox.defaultModeChecked = false;  checkbox.value = value    box.appendChild(document.createTextNode(label + ":"));  box.appendChild(checkbox);  box.appendChild(document.createTextNode(" \u00a0 "));  return box;}function prepTails(){  var key;  var tail;  var box;    for (key in tailList) {    if (tailList.hasOwnProperty(key)) {      tail = tailList[key];      box = makeCheckBox(tail.name, key, "cb_include_" + key);      document.getElementById("include_tails").appendChild(box);      box = makeCheckBox(tail.name, key, "cb_exclude_" + key);      document.getElementById("exclude_tails").appendChild(box);    }  }}var controlNames = ["fullName", "defaultMode", "roomInclude", "roomExclude","controlRoom",  "roomList", "excludeRealmRooms"];function prepEditScreen(shortName, mode){  var realm = realmList[shortName];  var tail;  var i;  var thisForm;  // And populate the form with basic info  thisForm = document.forms.myForm;     switch (mode) {  case "add":  case "add2":    document.getElementById("modeText").appendChild(document.createTextNode("Adding"));    break;  case "change":    document.getElementById("modeText").appendChild(document.createTextNode("Changing"));    break;  case "delete":    document.getElementById("modeText").appendChild(document.createTextNode("Deleting! " +    " MUST CLICK CHANGE REALM BUTTON TO CONFIRM"));    break;  }    if (mode === "add" || mode === "add2") {    realm = newRealm.deep_clone()["new"];     realmList[shortName] = realm;  }  if (mode === "add2") {    realm.defaultMode = "exclude";    realm.roomList = window.saveData.roomList;    realm.controlRoom = gup("controlRoom");    window.nextUrl = window.returnLink;  // When done, go back to the calling page.  }   if (mode === "delete") {    i = thisForm.elements.length -1;    while (i > 0) {      thisForm.elements[i].disabled = true;      i--;    }    document.getElementById("realmChange2").disabled = false;    document.getElementById("realmChange2").value = "Delete this realm";  }      prepTails();    if (realm === undefined) {    alert("Realm is undefined");  }    // Fill in the title      document.getElementById("step2_idspan").innerHTML = shortName;      // Check any realms included  for (i = 0; i < realm.tailInclude.length; i++) {    tail = realm.tailInclude[i];    document.getElementById("cb_include_" +tail).checked = true;  }    // Check any realms excluded  for (i = 0; i < realm.tailExclude.length; i++) {    tail = realm.tailExclude[i];    document.getElementById("cb_exclude_" +tail).checked = true;  }  populateScreen(thisForm, controlNames, realm);  }window.testPrep = function() {  var mode = gup("mode");  var shortName;      if (mode === "") {    alert("Mode not specified");  }    if (mode === 'prompt') {    document.getElementById("add1").style.display = "none";    document.getElementById("promptName").style.display = "";        addEvent(    document.getElementById("getShortName"), "click", function(event) {        var shortName = document.getElementById("shortName").value;                if (!isRealmNameValid(shortName)) {          alert("The realm name is invalid.");        } else if (realmList[shortName]) {          alert("That realm name already exists.");        } else {          document.getElementById("add1").style.display = "";          document.getElementById("promptName").style.display = "none";          prepEditScreen(shortName, gup("mode2"));                  }    });  } else {    if (mode === 'delete') {      document.getElementById("editDetails").style.display = "none";    }    shortName = gup("realmid");    prepEditScreen(shortName, mode);  }}window.finishData = function() {  var shortName =  document.getElementById("step2_idspan").innerHTML;  var realm = realmList[shortName];  var tail;  var i;  var thisForm;  var key;    // And populate the form with basic info  thisForm = document.forms.myForm;    // Check any realms included  realm.tailInclude = [];  realm.tailExclude = [];      for (key in tailList) {    if (tailList.hasOwnProperty(key)) {      if (document.getElementById("cb_include_" +key).checked === true) {        realm.tailInclude.push(key);      }      if (document.getElementById("cb_exclude_" +key).checked === true) {        realm.tailExclude.push(key);      }    }      }  populateObject(thisForm, controlNames, realm);       if (gup("mode") === "delete") {    delete realmList[shortName];    i = realmList[":list:"].indexOf(shortName);    if (i !== -1) {      realmList[":list:"].splice(i, 1);      window.location.href = window.location.href;    }  }}</script></head><body background="BG-Puzzle.gif" ><div id="add1">   <form name="myForm" onsubmit="return false;" action="#">          <h1 id="modeText"></h1>          <h2>Controls For Realm ID '<span id=          "step2_idspan"></span>'</h2>You will see this name           on the Hot List.                <table border="1" id="editDetails">            <!-- ###################################################################### -->            <tr>              <td colspan="2">                <h2>Realm Name</h2>Please enter the Realm name. The                realm name can be a maximum of 40 characters.                <center>                  <input type="text" length="40" name="fullName">                </center>              </td>            </tr>            <!-- ###################################################################### -->            <tr>              <td>                <h2>Choose default permission mode</h2>Please enter                if this realm will list all rooms unless you choose                NOT to see them, or if it will show no rooms unless                you choose to see them.              </td>              <td><select name="defaultMode">                <option value="include">                  Start off showing all rooms                </option>                <option value="exclude">                  Start off hiding all rooms                </option>              </select></td>            </tr>            <!-- ###################################################################### -->            <tr>              <td>              <h2>Control Room</h2>              If this realm was created using the 'Realm' button within a room, then              that room will appear here as the control room.  Whenever you visit this              room, then "Realm Rooms" below will be updated.<br><br>Only rooms that              use a specific type of drop-down list may be as control rooms.              </td>              <td>                <input type="text" length="12" name="controlRoom" disabled="true">              </td>            </tr>            <!-- ###################################################################### -->            <tr>              <td colspan="2">              <h2>Realm Rooms</h2>              The rooms included in this realm.  This information is updated              when you visit the control room for a realm (listed above).                  <center>                  <textarea id="roomList" cols="80" rows="10" disabled="true"></textarea>                </center>              </td>            </tr>            <!-- ###################################################################### -->            <tr>              <td colspan="2">                <h2>Tails to show</h2>If, under default permission                mode, you choose "Start off hiding all rooms" you                may choose certain tails to always show (when you                are looking at this realm.<br>                Later on this screen you will have the option of                hiding certain rooms regardless of what tails you                specify here.                <div id="include_tails"></div>              </td>            </tr>            <!-- ###################################################################### -->                          <tr>              <td colspan="2">                <h2>Tails to hide</h2>If, under default permission                mode, you choose "Start off showing all rooms" you                may choose certain tails to always hide (when you                are looking at this realm).<br>                Later on this screen you will have the option of                showing certain rooms regardless of what tails you                specify here.                <div id="exclude_tails"></div>              </td>            </tr>            <!-- ###################################################################### -->            <tr>              <td colspan="2">                <h2>Rooms to show</h2>Any rooms listed here will                ALWAYS show on the HOT list when they are active.                (and you are looking at this realm).<br>                <br>                Don't forget to include the room tail.<br>                <br>                <center>                  <textarea id="roomInclude" cols="80" rows="10"></textarea>                </center>              </td>            </tr>            <!-- ###################################################################### -->            <tr>              <td colspan="2">                <h2>Rooms to hide</h2>Any rooms listed here will                NEVER show on the HOT list when they are active                (and you are looking at this realm).<br>                <br>                Don't forget to include the room tail.<br>                <br>                <center>                  <textarea id="roomExclude" cols="80" rows="10"></textarea>                </center>              </td>            </tr>            <!-- ###################################################################### -->    <!-- ###################################################################### -->        <tr>      <td>      <h2>Hide realm rooms</h2>            If, in this realm, you do not want to see rooms that are a part of any      other realm, choose yes. IF you are unsure of what this means, choose      "no."<br>br>This option is useful if you wish to set up a realm for       "unclaimed" rooms, allowing you to filter out any rooms that are owned      by a role-playing realm.  Most of the time, this should be 'no.'      </td>      <td>        <select name="excludeRealmRooms">          <option value="no">Show all rooms</option>          <option value="yes">Hide rooms that belong to a realm</option>        </select>      </td>    </tr>                                                            </table>                <center>        <button id="realmChange2">Change Realm</button>        </center>    </form>  </div> <!-- add1 -->    <div id="promptName" style="display:none;">   <form name="promptForm" onsubmit="return false;" action="#">    <h2>Enter the name for the new realm</h2>          <table border="1" id="editDetails">            <!-- ###################################################################### -->            <tr>              <td colspan="2">                <h2>Realm Name</h2>Please enter the Realm name. This short                name can be between two and eight alphanumeric characters.                <center>                  <input type="text" length="40" id="shortName" name="shortName">                </center>              </td>            </tr>            </table>            <button id="getShortName">Continue</button>                   </form>  </div><!-- promptName -->    <a id="tinker_realm_editor_soi" name="tinker_realm_editor_soi"></a>    </body><head><!-- Thank you, IE, for this lovely piece of needed fluff. --><META HTTP-EQUIV="Pragma" CONTENT="no-cache"></head></html>